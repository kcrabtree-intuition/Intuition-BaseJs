!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this[e]=t()}("domready",function(){var e,t=[],n="object"==typeof document&&document,r=n&&n.documentElement.doScroll,o="DOMContentLoaded",i=n&&(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return!i&&n&&n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}}),function(){var e=0,t="spinner-border spinner-border-sm",n=function(){var t=new Date,n="iid_"+t.getTime()+"_"+e++;return n},r=function(e){return null!=e},o=function(e){return s(e)?e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,""):e},i=function(e){if(r(e)){if(c(e))return e;if(s(e))return Boolean(e)}return!1},a=function(e){return"function"==typeof e},u=function(e){var t=Object.prototype.toString.call(e);return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&"number"==typeof e.length&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},l=function(e){return!!(r(e)&&r(e.pop)&&r(e.push)&&r(e.slice))},s=function(e){return"string"==typeof e},c=function(e){return"boolean"==typeof e},d=function(e){return!!(r(e)&&r(e.tagName)&&r(e.nodeName))},f=function(e){return!(!s(e)||!(e.indexOf("/")>=0||e.indexOf("\\")>=0))},m=function(e){try{JSON.parse(e);return!0}catch(e){return!1}},p=function(e){return!(!d(e)||"input"!=e.tagName.toLowerCase()&&"textarea"!=e.tagName.toLowerCase())},v=function(e){return r(e)?e.currentTarget||e.srcElement||e.originalTarget||e:null},y=function(e){return r(e)?document.getElementById(e):null},g=function(e,t){var n=null;return n=b(e,t),r(n)&&l(n)?n[0]:n},b=function(e,t){var n=null;return s(e)&&(n=r(t)?t.querySelector(e):document.querySelector(e)),n},h=function(e){var t=y(e);if(r(t))return t.value},L=function(e){var t=r(e)?e.attributes:null,n=0,o=r(t)?t.length:0;for(n=0;n<o;n++)if(isUrlAttribute(t[n]))return t[n].value;return null},E=function(){document.getElementsByTagName("form");return r(vform)&&vform.count>0?vform[0]:null},T=function(e){var t=d(e)?e.getElementsByName("__RequestVerificationToken"):document.getElementsByName("__RequestVerificationToken");return u(t)?t[0]:null},N=function(e,t){d(e)&&(e.style.opacity=1,e.style.display=r(t)?t:"block")},w=function(e){d(e)&&(e.style.display="none")},B=function(e){d(e)&&(e.style.opacity=1,(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(fade))},C=function(e,t){},S=function(){for(var e=document.getElementsByClassName("field-validation-error"),t=0;t<e.length;t++)if(""!==e[t].innerHTML){var n=y(e[t].dataset.valmsgFor.replace(".","_"));r(n)&&n.classList.add("is-invalid")}},j=function(){var e=null,r=n(),o=this,i=o.innerHTML;return o.innerHTML="",o.setAttribute("disabled","disabled"),e=document.createElement("div"),e.id=r,e.className=t,this.appendChild(e),{id:r,html:i}},F=function(e,t){if(r(t)){var n=y(t.id);r(n)&&(e.removeChild(n),e.innerHTML=t.html,e.removeAttribute("disabled"))}},M=function(e){if(d(e))return new FormData(e);var t=new FormData,n=T();return r(n)&&t.append(n.name,n.value),t},H=function(e,t){return d(e)&&s(t)?e.dataset[o("basejs "+t)]:null},O=function(e){if(r(e)){var t=document.getElementsByClassName("validation-summary-errors");if(r(t))for(var n=0;n<t.length;n++)t[n].remove()}},q=function(e,t,n,o,i,a){var u=new XMLHttpRequest,l={};u.open(r(a)?a:"POST",e,!0),u.onreadystatechange=function(){this.readyState==XMLHttpRequest.DONE&&(l.response=u.responseText,l.statusCode=u.status,200==this.status?n(l):o(l),i())},u.send(t)},A=function(e,t,n,o,u,s){var c=v(e),d=r(c)?c:E(),f=null,p=null,b=r(t)?t:H(d,"posturl"),h=r(n)?n:H(d,"updatetarget"),L=null,T=function(e){O(d);var t=e.response;if(m(t)){const e=JSON.parse(t);"redirect"===e.type&&(location.href=e.url)}else{var n=y(h);r(n)&&(n.innerHTML=e.response),r(o)&&a(o)&&o()}},N=function(e){var t=H(d,"updatetargeterror"),n=H(d,"cleartargetonerror");if(r(n)&&!0===i(n)){var o=y(h);o.innerHTML=""}var l=r(t)?y(t):y(h);r(l)&&(e.statusCode>=500?document.write(e.response):l.innerHTML=e.response),r(u)&&a(u)&&u()},w=function(){F(p,f),r(s)&&a(s)&&s(),I()};if(r(d)){"button"===d.tagName.toLowerCase()?(p=d,L=M()):(e.preventDefault(),p=g('button[type="submit"]',d),L=M(d)),f=j.apply(p,arguments);var B=[].filter.call(d.attributes,function(e){return/^data-basejs-param-/.test(e.name)});if(l(B))for(let e=0;e<B.length;e++){var C=B[e].name.replace("data-basejs-param-","").toLowerCase(),S=B[e].value;L.append(C,S)}q(b,L,T,N,w)}return!1},D=function(){var e=document.getElementsByClassName("input-validation-error");if(r(e))for(var t=0;t<e.length;t++)e[t].addEventListener("input",_)},_=function(e){var t=v(e);if(d(t)){t.classList.remove("is-invalid"),t.classList.remove("input-validation-error");var n=document.querySelectorAll("[data-valmsg-for='"+t.id.replace("_",".")+"']");if(r(n))for(var o=0;o<n.length;o++)n[o].innerHTML=""}},x=function(e,t,n){var o=v(e),i=null,a=null,u=null,l=null;d(o)?(i=H(o,"copyfieldsourceid"),a=H(o,"copyfieldtargetid"),r(i)&&r(a)&&(u=y(i),l=y(a))):(u=y(t),l=y(n)),p(u)&&p(l)&&(l.value=u.value)},V=function(){var e=document.getElementsByTagName("form"),t=null,n=null,o=null;if(r(e))for(var i=0;i<e.length;i++)t=H(e[i],"posturl"),n=H(e[i],"updatetarget"),o=H(e[i],"listener"),!r(o)&&r(t)&&f(t)&&r(n)&&s(n)&&(e[i].addEventListener("submit",A),e[i].dataset.basejsListener=!0),t=null,n=null},k=function(){var e=document.getElementsByTagName("button"),t=null,n=null,o=null;if(r(e))for(var i=0;i<e.length;i++)t=H(e[i],"copyfieldsourceid"),n=H(e[i],"copyfieldtargetid"),o=H(e[i],"listener"),!r(o)&&r(t)&&r(n)&&(e[i].addEventListener("click",x),e[i].dataset.basejsListener=!0),t=null,n=null},I=function(){V(),S(),D(),k()},R={};R.uniqueId=n,R.exists=r,R.toCamel=o,R.toBool,R.isFunction=a,R.isNodeList=u,R.isArray=l,R.isString=s,R.isBoolean=c,R.isElement=d,R.isUri=f,R.isJson=m,R.isInput=p,R.eventSource=v,R.getElement=y,R.getElementBySelector=g,R.getElementsBySelector=b,R.getElementValue=h,R.getElementUrl=L,R.getFirstForm=E,R.getToken=T,R.show=N,R.hide=w,R.fadeOut=B,R.fadeIn=C,R.setFieldValidations=S,R.showBusy=j,R.showOriginal=F,R.createFormData=M,R.getDataFromTag=H,R.clearValidationSummary=O,R.postForm=q,R.postAndReplace=A,R.initValidations=D,R.copyInputField=x,R.initForms=V,R.initButtons=k,R.init=I,window.basejs=R,domready(I)}();