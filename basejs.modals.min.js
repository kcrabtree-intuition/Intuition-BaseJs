(function(){var e=null,s=null,a=null,t=function(e){var s=basejs.eventSource(e),a=e.relatedTarget,t=basejs.getDataFromTag(a,"posturl"),n=basejs.createFormData();b(s);var o=[].filter.call(a.attributes,function(e){return/^data-basejs-param-/.test(e.name)});if(basejs.isArray(o))for(let e=0;e<o.length;e++){var l=o[e].name.replace("data-basejs-param-","").toLowerCase(),r=o[e].value;n.append(l,r)}if(basejs.isUri(t)){var i=function(e){s.innerHTML=e.response,basejs.initForms()},c=function(e){basejs.exists(e)?d(s,e):d(s)},u=function(){};basejs.postForm(t,n,i,c,u)}else d(s)},n=function(e,s){var a=basejs.eventSource(e),t=basejs.getDataFromTag(a,"posturl"),n=basejs.createFormData(),o=basejs.getDataFromTag(a,"updatetarget"),l=basejs.getDataFromTag("updatetargeterror"),r=null,i=null,d=null,b=null;r=showBusy.apply(a,arguments);var c=[].filter.call(a.attributes,function(e){return/^data-basejs-param-/.test(e.name)});if(basejs.isArray(c))for(let e=0;e<c.length;e++){var u=c[e].name.replace("data-basejs-param-","").toLowerCase(),m=c[e].value;n.append(u,m)}basejs.isUri(t)&&(i=function(e){var a=bootstrap.Modal.getInstance(basejs.getElement(s));exists(o)&&basejs.isElement(basejs.getElement(o))&&(basejs.getElement(o).innerHTML=e.response),a.hide()},d=function(e){exists(l)&&basejs.isElement(basejs.getElement(l))&&(basejs.getElement(l).innerHTML=e.response)},b=function(){showOriginal(a,r)},basejs.postForm(t,n,i,d,b))},o=function(e){var s=basejs.eventSource(e);b(s)},l=function(){var s=arguments,a=s.length;switch(a){case 0:return e;default:basejs.isString(s[0])&&(e=s[0])}},r=function(){var e=arguments,a=e.length;switch(a){case 0:return s;default:basejs.isString(e[0])&&(s=e[0])}},i=function(){var e=arguments,s=e.length;switch(s){case 0:return a;default:basejs.isString(e[0])&&(a=e[0])}},d=function(e,s){if(basejs.isElement(e)){var a=r.replace("{responseText}",basejs.exists(s)?failureResponse:"");a.replace("{responseData}",basejs.exists(s)?s.response:""),e.innerHTML=a}},b=function(e){basejs.isElement(e)&&(e.innerHTML=l)},c=function(){var e=basejs.getElement("LoadingModal"),s=basejs.getElement("FailureModal"),a=basejs.getElement("FailureModalResponse");basejs.isElement(e)&&(l=e.value),basejs.isElement(s)&&(i=s.value),basejs.isElement(a)&&(i=a.value),basejs.exists(i)||(i="Response:<br />"),basejs.isString(r)||(r='   <div class="modal-dialog">     <div class="modal-content">         <div class="modal-header modal-header-color">             <h5 class="modal-title" id="sharedmodalslabel">Error</h4>             <button type="button" class="btn-close" data-bs-dismiss="modal"aria-label="Close"></button>         </div>         <div class="modal-body text-center">             There was a problem loading the content for this dialog<br />             {responseText}{responseData}         </div>         <div class="modal-footer modal-footer-color">             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>         </div>     </div> </div>'),basejs.isString(l)||(l='   <div class="modal-dialog">     <div class="modal-content">         <div class="modal-header modal-header-color">             <h5 class="modal-title" id="sharedmodalslabel">Loading...</h4>             <button type="button" class="btn-close" data-bs-dismiss="modal"aria-label="Close"></button>         </div>         <div class="modal-body text-center">             <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">             </div>         </div>         <div class="modal-footer modal-footer-color">             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>         </div>     </div> </div>')},u=function(){var e=document.getElementsByClassName("modal");for(let s=0;s<e.length;s++)e[s].addEventListener("shown.bs.modal",t),e[s].addEventListener("hidden.bs.modal",o)},m=function(){var e=basejs.getElementsBySelector("button[data-basejs-posturl]");if(basejs.exists(e))for(let s=0;s<e.length;s++)e[s].addEventListener("click",n)},v=function(){u(),m(),c()},j={};j.init=v,j.failureModal=r,j.failureModalResponse=i,j.loadingModal=l,basejs.modals=j,domready(v)})();